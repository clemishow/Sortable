/*! Sortable 1.9.0 - MIT | git://github.com/SortableJS/Sortable.git */
/**!
 * Sortable 1.9.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).Sortable=e()}(this,function(){"use strict";function t(){return(t=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}).apply(this,arguments)}function e(t){return!!navigator.userAgent.match(t)}const n=e(/(?:Trident.*rv[ :]?11\.|msie|iemobile)/i),o=e(/Edge/i),i=e(/firefox/i),l=e(/safari/i)&&!e(/chrome/i)&&!e(/android/i),r=e(/iP(ad|od|hone)/i),a={capture:!1,passive:!1};function s(t,e,o){t.addEventListener(e,o,!n&&a)}function d(t,e,o){t.removeEventListener(e,o,!n&&a)}function c(t,e){if(e){if(">"===e[0]&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch(t){return!1}return!1}}function u(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function h(t,e,n,o){if(t){n=n||document;do{if(null!=e&&(">"===e[0]?t.parentNode===n&&c(t,e):c(t,e))||o&&t===n)return t;if(t===n)break}while(t=u(t))}return null}const p=/\s+/g;function f(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{let o=(" "+t.className+" ").replace(p," ").replace(" "+e+" "," ");t.className=(o+(n?" "+e:"")).replace(p," ")}}function g(t,e,n){let o=t&&t.style;if(o){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),void 0===e?n:n[e];e in o||-1!==e.indexOf("webkit")||(e="-webkit-"+e),o[e]=n+("string"==typeof n?"":"px")}}function m(t,e){let n="";do{let e=g(t,"transform");e&&"none"!==e&&(n=e+" "+n)}while(!e&&(t=t.parentNode));const o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix;return o&&new o(n)}function v(t,e,n){if(t){let o=t.getElementsByTagName(e),i=0,l=o.length;if(n)for(;i<l;i++)n(o[i],i);return o}return[]}function b(){return n?document.documentElement:document.scrollingElement}function w(t,e,o,i,l){if(!t.getBoundingClientRect&&t!==window)return;let r,a,s,d,c,u,h;if(t!==window&&t!==b()?(a=(r=t.getBoundingClientRect()).top,s=r.left,d=r.bottom,c=r.right,u=r.height,h=r.width):(a=0,s=0,d=window.innerHeight,c=window.innerWidth,u=window.innerHeight,h=window.innerWidth),(e||o)&&t!==window&&(l=l||t.parentNode,!n))do{if(l&&l.getBoundingClientRect&&("none"!==g(l,"transform")||o&&"static"!==g(l,"position"))){let t=l.getBoundingClientRect();a-=t.top+parseInt(g(l,"border-top-width")),s-=t.left+parseInt(g(l,"border-left-width")),d=a+r.height,c=s+r.width;break}}while(l=l.parentNode);if(i&&t!==window){let e=m(l||t),n=e&&e.a,o=e&&e.d;e&&(d=(a/=o)+(u/=o),c=(s/=n)+(h/=n))}return{top:a,left:s,bottom:d,right:c,width:h,height:u}}function D(t,e,n,o){let i=C(t,!0),l=(e||w(t))[n];for(;i;){let t,e=w(i)[o];if(!(t="top"===o||"left"===o?l>=e:l<=e))return i;if(i===b())break;i=C(i,!1)}return!1}function y(t,e,n){let o=0,i=0,l=t.children;for(;i<l.length;){if("none"!==l[i].style.display&&l[i]!==Tt.ghost&&l[i]!==Tt.dragged&&h(l[i],n.draggable,t,!1)){if(o===e)return l[i];o++}i++}return null}function E(t,e){let n=t.lastElementChild;for(;n&&(n===Tt.ghost||"none"===g(n,"display")||e&&!c(n,e));)n=n.previousElementSibling;return n||null}function _(t,e){let n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)"TEMPLATE"===t.nodeName.toUpperCase()||t===Tt.clone||e&&!c(t,e)||n++;return n}function S(t){let e=0,n=0,o=b();if(t)do{let o=m(t),i=o.a,l=o.d;e+=t.scrollLeft*i,n+=t.scrollTop*l}while(t!==o&&(t=t.parentNode));return[e,n]}function C(t,e){if(!t||!t.getBoundingClientRect)return b();let n=t,o=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){let t=g(n);if(n.clientWidth<n.scrollWidth&&("auto"==t.overflowX||"scroll"==t.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==t.overflowY||"scroll"==t.overflowY)){if(!n.getBoundingClientRect||n===document.body)return b();if(o||e)return n;o=!0}}}while(n=n.parentNode);return b()}function T(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}let x;function M(t,e){return function(){if(!x){let n=arguments,o=this;1===n.length?t.call(o,n[0]):t.apply(o,n),x=setTimeout(function(){x=void 0},e)}}}function N(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function A(t){let e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}function I(t,e){g(t,"position","absolute"),g(t,"top",e.top),g(t,"left",e.left),g(t,"width",e.width),g(t,"height",e.height)}function O(t){g(t,"position",""),g(t,"top",""),g(t,"left",""),g(t,"width",""),g(t,"height","")}const k="Sortable"+(new Date).getTime();function P(){let t,e=[];return{captureAnimationState(){if(e=[],!this.options.animation)return;let t=[].slice.call(this.el.children);for(let n in t){if("none"===g(t[n],"display")||t[n]===Tt.ghost)continue;e.push({target:t[n],rect:w(t[n])});let o=w(t[n]);if(t[n].thisAnimationDuration){let e=m(t[n],!0);e&&(o.top-=e.f,o.left-=e.e)}t[n].fromRect=o}},addAnimationState(t){e.push(t)},removeAnimationState(t){e.splice(function(t,e){for(let n in t)for(let o in e)if(e[o]===t[n][o])return Number(n);return-1}(e,{target:t}),1)},animateAll(n){if(!this.options.animation)return clearTimeout(t),void("function"==typeof n&&n());let o=!1,i=0;for(let t in e){let n=0,l=e[t].target,r=l.fromRect,a=w(l),d=l.prevFromRect,c=l.prevToRect,u=e[t].rect,h=m(l,!0);h&&(a.top-=h.f,a.left-=h.e),l.toRect=a,(D(l,a,"bottom","top")||D(l,a,"top","bottom")||D(l,a,"right","left")||D(l,a,"left","right"))&&(D(l,u,"bottom","top")||D(l,u,"top","bottom")||D(l,u,"right","left")||D(l,u,"left","right"))&&(D(l,r,"bottom","top")||D(l,r,"top","bottom")||D(l,r,"right","left")||D(l,r,"left","right"))||(l.thisAnimationDuration&&T(d,a)&&!T(r,a)&&(u.top-a.top)/(u.left-a.left)==(r.top-a.top)/(r.left-a.left)&&(u=u,r=d,a=c,s=this.options,n=Math.sqrt(Math.pow(r.top-u.top,2)+Math.pow(r.left-u.left,2))/Math.sqrt(Math.pow(r.top-a.top,2)+Math.pow(r.left-a.left,2))*s.animation),T(a,r)||(l.prevFromRect=r,l.prevToRect=a,n||(n=this.options.animation),this.animate(l,u,n)),n&&(o=!0,i=Math.max(i,n),clearTimeout(l.animationResetTimer),l.animationResetTimer=setTimeout(function(){this.animationStates[this.i].target.animationTime=0,this.animationStates[this.i].target.prevFromRect=null,this.animationStates[this.i].target.fromRect=null,this.animationStates[this.i].target.prevToRect=null,this.animationStates[this.i].target.thisAnimationDuration=null}.bind({animationStates:e,i:Number(t)}),n),l.thisAnimationDuration=n))}var l,r,a,s;clearTimeout(t),o?t=setTimeout(function(){"function"==typeof n&&n()},i):"function"==typeof n&&n(),e=[]},animate(t,e,n){if(n){g(t,"transition",""),g(t,"transform","");let o=w(t),i=m(this.el),l=i&&i.a,r=i&&i.d,a=(e.left-o.left)/(l||1),s=(e.top-o.top)/(r||1);t.animatingX=!!a,t.animatingY=!!s,g(t,"transform","translate3d("+a+"px,"+s+"px,0)"),function(t){t.offsetWidth}(t),g(t,"transition","transform "+n+"ms"+(this.options.easing?" "+this.options.easing:"")),g(t,"transform","translate3d(0,0,0)"),"number"==typeof t.animated&&clearTimeout(t.animated),t.animated=setTimeout(function(){g(t,"transition",""),g(t,"transform",""),t.animated=!1,t.animatingX=!1,t.animatingY=!1},n)}}}}let R=[];const X={initializeByDefault:!0};var Y={mount(t){for(let e in X)!(e in t)&&(t[e]=X[e]);R.push(t)},pluginEvent(t,e,n){this.eventCanceled=!1;const o=t+"Global";for(let i in R)e[R[i].pluginName]&&(e[R[i].pluginName][o]&&(this.eventCanceled=!!e[R[i].pluginName][o]({sortable:e,...n})),e.options[R[i].pluginName]&&e[R[i].pluginName][t]&&(this.eventCanceled=this.eventCanceled||!!e[R[i].pluginName][t]({sortable:e,...n})))},initializePlugins(e,n,o){for(let i in R){const l=R[i].pluginName;if(!e.options[l]&&!R[i].initializeByDefault)continue;let r=new R[i](e,n);r.sortable=e,e[l]=r,t(o,r.options)}for(let t in e.options){let n=this.modifyOption(e,t,e.options[t]);void 0!==n&&(e.options[t]=n)}},getEventOptions(e,n){let o={};for(let i in R)"function"==typeof R[i].eventOptions&&t(o,R[i].eventOptions.call(n,e));return o},modifyOption(t,e,n){let o;for(let i in R)t[R[i].pluginName]&&R[i].optionListeners&&"function"==typeof R[i].optionListeners[e]&&(o=R[i].optionListeners[e].call(t[R[i].pluginName],n));return o}};function B({sortable:t,rootEl:e,name:i,targetEl:l,cloneEl:r,toEl:a,fromEl:s,oldIndex:d,newIndex:c,oldDraggableIndex:u,newDraggableIndex:h,originalEvent:p,putSortable:f,eventOptions:g}){let m,v=(t=t||e[k]).options,b="on"+i.charAt(0).toUpperCase()+i.substr(1);!window.CustomEvent||n||o?(m=document.createEvent("Event")).initEvent(i,!0,!0):m=new CustomEvent(i,{bubbles:!0,cancelable:!0}),m.to=a||e,m.from=s||e,m.item=l||e,m.clone=r,m.oldIndex=d,m.newIndex=c,m.oldDraggableIndex=u,m.newDraggableIndex=h,m.originalEvent=p,m.pullMode=f?f.lastPutMode:void 0;let w={...g,...Y.getEventOptions(i,t)};for(let t in w)m[t]=w[t];e&&e.dispatchEvent(m),v[b]&&v[b].call(t,m)}let F=function(t,e,{evt:n,...o}={}){Y.pluginEvent.bind(Tt)(t,e,{dragEl:L,parentEl:K,ghostEl:W,rootEl:z,nextEl:G,lastDownEl:U,cloneEl:j,cloneHidden:q,dragStarted:ot,putSortable:tt,activeSortable:Tt.active,originalEvent:n,oldIndex:V,oldDraggableIndex:Z,newIndex:$,newDraggableIndex:Q,hideGhostForTarget:Et,unhideGhostForTarget:_t,cloneNowHidden(){q=!0},cloneNowShown(){q=!1},dispatchSortableEvent(t){H({sortable:e,name:t,originalEvent:n})},...o})};function H(t){B({putSortable:tt,cloneEl:j,targetEl:L,rootEl:z,oldIndex:V,oldDraggableIndex:Z,newIndex:$,newDraggableIndex:Q,...t})}if("undefined"==typeof window||!window.document)throw new Error("Sortable.js requires a window with a document");let L,K,W,z,G,U,j,q,V,$,Z,Q,J,tt,et,nt,ot,it,lt,rt,at,st=!1,dt=!1,ct=[],ut=!1,ht=!1,pt=[],ft=!1,gt=[];const mt=r,vt=o||n?"cssFloat":"float",bt="draggable"in document.createElement("div"),wt=function(){if(n)return!1;let t=document.createElement("x");return t.style.cssText="pointer-events:auto","auto"===t.style.pointerEvents}(),Dt=function(t,e){let n=g(t),o=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),i=y(t,0,e),l=y(t,1,e),r=i&&g(i),a=l&&g(l),s=r&&parseInt(r.marginLeft)+parseInt(r.marginRight)+w(i).width,d=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+w(l).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&"none"!==r.float){let t="left"===r.float?"left":"right";return!l||"both"!==a.clear&&a.clear!==t?"horizontal":"vertical"}return i&&("block"===r.display||"flex"===r.display||"table"===r.display||"grid"===r.display||s>=o&&"none"===n[vt]||l&&"none"===n[vt]&&s+d>o)?"vertical":"horizontal"},yt=function(t){function e(t,n){return function(o,i,l,r){let a=o.options.group.name&&i.options.group.name&&o.options.group.name===i.options.group.name;if(null==t&&(n||a))return!0;if(null==t||!1===t)return!1;if(n&&"clone"===t)return t;if("function"==typeof t)return e(t(o,i,l,r),n)(o,i,l,r);{let e=(n?o:i).options.group.name;return!0===t||"string"==typeof t&&t===e||t.join&&t.indexOf(e)>-1}}}let n={},o=t.group;o&&"object"==typeof o||(o={name:o}),n.name=o.name,n.checkPull=e(o.pull,!0),n.checkPut=e(o.put),n.revertClone=o.revertClone,t.group=n},Et=function(){!wt&&W&&g(W,"display","none")},_t=function(){!wt&&W&&g(W,"display","")};document.addEventListener("click",function(t){if(dt)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),dt=!1,!1},!0);let St=function(t){if(L){let e=function(t,e){for(let n in ct){if(E(ct[n]))continue;let o=w(ct[n]),i=ct[n][k].options.emptyInsertThreshold,l=t>=o.left-i&&t<=o.right+i,r=e>=o.top-i&&e<=o.bottom+i;if(i&&l&&r)return ct[n]}}((t=t.touches?t.touches[0]:t).clientX,t.clientY);if(e){let n={};for(let e in t)n[e]=t[e];n.target=n.rootEl=e,n.preventDefault=void 0,n.stopPropagation=void 0,e[k]._onDragOver(n)}}},Ct=function(t){L&&L.parentNode[k]._isOutsideThisEl(t.target)};function Tt(e,n){if(!e||!e.nodeType||1!==e.nodeType)throw`Sortable: \`el\` must be an HTMLElement, not ${{}.toString.call(e)}`;this.el=e,this.options=n=t({},n),e[k]=this;let o={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Dt(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnElement:null,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Tt.supportPointer&&"PointerEvent"in window,emptyInsertThreshold:5};Y.initializePlugins(this,e,o);for(let t in o)!(t in n)&&(n[t]=o[t]);yt(n);for(let t in this)"_"===t.charAt(0)&&"function"==typeof this[t]&&(this[t]=this[t].bind(this));this.nativeDraggable=!n.forceFallback&&bt,this.nativeDraggable&&(this.options.touchStartThreshold=1),n.supportPointer?s(e,"pointerdown",this._onTapStart):(s(e,"mousedown",this._onTapStart),s(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(s(e,"dragover",this),s(e,"dragenter",this)),ct.push(this.el),n.store&&n.store.get&&this.sort(n.store.get(this)||[]),t(this,P())}function xt(t,e,i,l,r,a,s,d){let c,u,h=t[k],p=h.options.onMove;return!window.CustomEvent||n||o?(c=document.createEvent("Event")).initEvent("move",!0,!0):c=new CustomEvent("move",{bubbles:!0,cancelable:!0}),c.to=e,c.from=t,c.dragged=i,c.draggedRect=l,c.related=r||e,c.relatedRect=a||w(e),c.willInsertAfter=d,c.originalEvent=s,t.dispatchEvent(c),p&&(u=p.call(h,c,s)),u}function Mt(t){t.draggable=!1}function Nt(){ft=!1}function At(t){let e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,o=0;for(;n--;)o+=e.charCodeAt(n);return o.toString(36)}function It(t){return setTimeout(t,0)}function Ot(t){return clearTimeout(t)}Tt.prototype={constructor:Tt,_isOutsideThisEl:function(t){this.el.contains(t)||t===this.el||(it=null)},_getDirection:function(t,e){return"function"==typeof this.options.direction?this.options.direction.call(this,t,e,L):this.options.direction},_onTapStart:function(t){if(!t.cancelable)return;let e=this,n=this.el,o=this.options,i=o.preventOnFilter,l=t.type,r=t.touches&&t.touches[0],a=(r||t).target,s=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||a,d=o.filter;if(function(t){gt.length=0;let e=t.getElementsByTagName("input"),n=e.length;for(;n--;){let t=e[n];t.checked&&gt.push(t)}}(n),!L&&!(/mousedown|pointerdown/.test(l)&&0!==t.button||o.disabled||s.isContentEditable||(a=h(a,o.draggable,n,!1))&&a.animated||U===a)){if(V=_(a),Z=_(a,o.draggable),"function"==typeof d){if(d.call(this,t,a,this))return H({sortable:e,rootEl:s,name:"filter",targetEl:a,toEl:n,fromEl:n}),F("filter",e,{evt:t}),void(i&&t.cancelable&&t.preventDefault())}else if(d&&(d=d.split(",").some(function(o){if(o=h(s,o.trim(),n,!1))return H({sortable:e,rootEl:o,name:"filter",targetEl:a,fromEl:n,toEl:n}),F("filter",e,{evt:t}),!0})))return void(i&&t.cancelable&&t.preventDefault());o.handle&&!h(s,o.handle,n,!1)||this._prepareDragStart(t,r,a)}},_prepareDragStart:function(t,e,l){let r,a=this,d=a.el,c=a.options,u=d.ownerDocument;if(l&&!L&&l.parentNode===d)if(z=d,K=(L=l).parentNode,G=L.nextSibling,U=l,J=c.group,Tt.dragged=L,et={target:L,clientX:(e||t).clientX,clientY:(e||t).clientY},this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,L.style["will-change"]="all",r=function(){F("delayEnded",a,{evt:t}),Tt.eventCanceled?a._onDrop():(a._disableDelayedDragEvents(),!i&&a.nativeDraggable&&(L.draggable=!0),a._triggerDragStart(t,e),H({sortable:a,name:"choose",originalEvent:t}),f(L,c.chosenClass,!0))},c.ignore.split(",").forEach(function(t){v(L,t.trim(),Mt)}),s(u,"dragover",St),s(u,"mousemove",St),s(u,"touchmove",St),s(u,"mouseup",a._onDrop),s(u,"touchend",a._onDrop),s(u,"touchcancel",a._onDrop),i&&this.nativeDraggable&&(this.options.touchStartThreshold=4,L.draggable=!0),F("delayStart",this,{evt:t}),!c.delay||c.delayOnTouchOnly&&!e||this.nativeDraggable&&(o||n))r();else{if(Tt.eventCanceled)return void this._onDrop();s(u,"mouseup",a._disableDelayedDrag),s(u,"touchend",a._disableDelayedDrag),s(u,"touchcancel",a._disableDelayedDrag),s(u,"mousemove",a._delayedDragTouchMoveHandler),s(u,"touchmove",a._delayedDragTouchMoveHandler),c.supportPointer&&s(u,"pointermove",a._delayedDragTouchMoveHandler),a._dragStartTimer=setTimeout(r,c.delay)}},_delayedDragTouchMoveHandler:function(t){let e=t.touches?t.touches[0]:t;Math.max(Math.abs(e.clientX-this._lastX),Math.abs(e.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){L&&Mt(L),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){let t=this.el.ownerDocument;d(t,"mouseup",this._disableDelayedDrag),d(t,"touchend",this._disableDelayedDrag),d(t,"touchcancel",this._disableDelayedDrag),d(t,"mousemove",this._delayedDragTouchMoveHandler),d(t,"touchmove",this._delayedDragTouchMoveHandler),d(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,e){e=e||("touch"==t.pointerType?t:null),!this.nativeDraggable||e?this.options.supportPointer?s(document,"pointermove",this._onTouchMove):s(document,e?"touchmove":"mousemove",this._onTouchMove):(s(L,"dragend",this),s(z,"dragstart",this._onDragStart));try{document.selection?It(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch(t){}},_dragStarted:function(t,e){if(st=!1,z&&L){F("dragStarted",this,{evt:e}),this.nativeDraggable&&s(document,"dragover",Ct);let n=this.options;!t&&f(L,n.dragClass,!1),f(L,n.ghostClass,!0),Tt.active=this,t&&this._appendGhost(),H({sortable:this,name:"start",originalEvent:e})}else this._nulling()},_emulateDragOver:function(){if(nt){this._lastX=nt.clientX,this._lastY=nt.clientY,Et();let t=document.elementFromPoint(nt.clientX,nt.clientY),e=t;for(;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(nt.clientX,nt.clientY))!==e;)e=t;if(L.parentNode[k]._isOutsideThisEl(t),e)do{if(e[k]){let n;if((n=e[k]._onDragOver({clientX:nt.clientX,clientY:nt.clientY,target:t,rootEl:e}))&&!this.options.dragoverBubble)break}t=e}while(e=e.parentNode);_t()}},_onTouchMove:function(t){if(et){let e=this.options,n=e.fallbackTolerance,o=e.fallbackOffset,i=t.touches?t.touches[0]:t,l=W&&m(W),r=W&&l&&l.a,a=W&&l&&l.d,s=mt&&at&&S(at),d=(i.clientX-et.clientX+o.x)/(r||1)+(s?s[0]-pt[0]:0)/(r||1),c=(i.clientY-et.clientY+o.y)/(a||1)+(s?s[1]-pt[1]:0)/(a||1),u=t.touches?"translate3d("+d+"px,"+c+"px,0)":"translate("+d+"px,"+c+"px)";if(!Tt.active&&!st){if(n&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<n)return;this._onDragStart(t,!0)}nt=i,g(W,"webkitTransform",u),g(W,"mozTransform",u),g(W,"msTransform",u),g(W,"transform",u),t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!W){let t=this.options.fallbackOnElement,e=w(L,!0,mt,!0,t),n=this.options;if(mt){for(at=t;"static"===g(at,"position")&&"none"===g(at,"transform")&&at!==document;)at=at.parentNode;at!==document.body&&at!==document.documentElement?(at===document&&(at=b()),e.top+=at.scrollTop,e.left+=at.scrollLeft):at=b(),pt=S(at)}f(W=L.cloneNode(!0),n.ghostClass,!1),f(W,n.fallbackClass,!0),f(W,n.dragClass,!0),g(W,"transition",""),g(W,"transform",""),g(W,"box-sizing","border-box"),g(W,"margin",0),g(W,"top",e.top),g(W,"left",e.left),g(W,"width",e.width),g(W,"height",e.height),g(W,"opacity","0.8"),g(W,"position",mt?"absolute":"fixed"),g(W,"zIndex","100000"),g(W,"pointerEvents","none"),Tt.ghost=W,t.appendChild(W)}},_onDragStart:function(t,e){let n=this,o=t.dataTransfer,i=n.options;F("dragStart",this,{evt:t}),Tt.eventCanceled?this._onDrop():(F("setupClone",this),Tt.eventCanceled||((j=A(L)).draggable=!1,j.style["will-change"]="",this._hideClone(),f(j,this.options.chosenClass,!1),Tt.clone=j),n.cloneId=It(function(){F("clone",n),Tt.eventCanceled||(n.options.removeCloneOnHide||z.insertBefore(j,L),n._hideClone(),H({sortable:n,name:"clone"}))}),!e&&f(L,i.dragClass,!0),e?(dt=!0,n._loopId=setInterval(n._emulateDragOver,50)):(d(document,"mouseup",n._onDrop),d(document,"touchend",n._onDrop),d(document,"touchcancel",n._onDrop),o&&(o.effectAllowed="move",i.setData&&i.setData.call(n,o,L)),s(document,"drop",n),g(L,"transform","translateZ(0)")),st=!0,n._dragStartId=It(n._dragStarted.bind(n,e,t)),s(document,"selectstart",n),ot=!0,l&&g(document.body,"user-select","none"))},_onDragOver:function(t){let e,n,o,i,l=this.el,r=t.target,a=this.options,s=a.group,d=Tt.active,c=J===s,u=a.sort,p=tt||d,m=this,v=!1;if(!ft){if(void 0!==t.preventDefault&&t.cancelable&&t.preventDefault(),r=h(r,a.draggable,l,!0),b("dragOver"),Tt.eventCanceled)return v;if(L.contains(t.target)||r.animated&&r.animatingX&&r.animatingY||m._ignoreWhileAnimating===r)return S(!1);if(dt=!1,d&&!a.disabled&&(c?u||(o=!z.contains(L)):tt===this||(this.lastPutMode=J.checkPull(this,d,L,t))&&s.checkPut(this,d,L,t))){if(i="vertical"===this._getDirection(t,r),e=w(L),b("dragOverValid"),Tt.eventCanceled)return v;if(o)return K=z,y(),this._hideClone(),b("revert"),Tt.eventCanceled||(G?z.insertBefore(L,G):z.appendChild(L)),S(!0);let s=E(l,a.draggable);if(!s||function(t,e,n){let o=w(E(n.el,n.options.draggable));return e?t.clientX>o.right+10||t.clientX<=o.right&&t.clientY>o.bottom&&t.clientX>=o.left:t.clientX>o.right&&t.clientY>o.top||t.clientX<=o.right&&t.clientY>o.bottom+10}(t,i,this)&&!s.animated){if(s===L)return S(!1);if(s&&l===t.target&&(r=s),r&&(n=w(r)),!1!==xt(z,l,L,e,r,n,t,!!r))return y(),l.appendChild(L),K=l,C(),S(!0)}else if(r.parentNode===l){let o,s,d=0,c=L.parentNode!==l,u=i?"top":"left",h=D(r,null,"top","top")||D(L,null,"top","top"),p=h?h.scrollTop:void 0;if(it!==r&&(o=w(r)[u],ut=!1,ht=a.invertSwap||c),0!==(d=function(t,e,n,o,i,l,r){let a=w(e),s=n?t.clientY:t.clientX,d=n?a.height:a.width,c=n?a.top:a.left,u=n?a.bottom:a.right,h=!1;if(!l)if(r&&rt<d*o){if(!ut&&(1===lt?s>c+d*i/2:s<u-d*i/2)&&(ut=!0),ut)h=!0;else if(1===lt?s<c+rt:s>u-rt)return-lt}else if(s>c+d*(1-o)/2&&s<u-d*(1-o)/2)return function(t){return _(L)<_(t)?1:-1}(e);if((h=h||l)&&(s<c+d*i/2||s>u-d*i/2))return s>c+d/2?1:-1;return 0}(t,r,i,a.swapThreshold,null==a.invertedSwapThreshold?a.swapThreshold:a.invertedSwapThreshold,ht,it===r))){let t=_(L);do{t-=d,s=K.children[t]}while(s&&("none"===g(s,"display")||s===W))}if(0===d||s===r)return S(!1);it=r,lt=d,n=w(r);let f=r.nextElementSibling,m=!1,v=xt(z,l,L,e,r,n,t,m=1===d);if(!1!==v)return 1!==v&&-1!==v||(m=1===v),ft=!0,setTimeout(Nt,30),y(),m&&!f?l.appendChild(L):r.parentNode.insertBefore(L,m?f:r),h&&N(h,0,p-h.scrollTop),K=L.parentNode,void 0===o||ht||(rt=Math.abs(o-w(r)[u])),C(),S(!0)}if(l.contains(L))return S(!1)}return!1}function b(a,s){F(a,m,{evt:t,isOwner:c,axis:i?"vertical":"horizontal",revert:o,dragRect:e,targetRect:n,canSort:u,fromSortable:p,target:r,completed:S,onMove(n,o){xt(z,l,L,e,n,w(n),t,o)},changed:C,...s})}function y(){b("dragOverAnimationCapture"),m.captureAnimationState(),m!==p&&p.captureAnimationState()}function S(e){return b("dragOverCompleted",{insertion:e}),e&&(c?d._hideClone():d._showClone(m),m!==p&&(f(L,tt?tt.options.ghostClass:d.options.ghostClass,!1),f(L,a.ghostClass,!0)),tt!==m&&m!==Tt.active?tt=m:m===Tt.active&&tt&&(tt=null),p===m&&(m._ignoreWhileAnimating=r),m.animateAll(function(){b("dragOverAnimationComplete"),m._ignoreWhileAnimating=null}),m!==p&&(p.animateAll(),p._ignoreWhileAnimating=null)),(r===L&&!L.animated||r===l&&!r.animated)&&(it=null),a.dragoverBubble||t.rootEl||r===document||(L.parentNode[k]._isOutsideThisEl(t.target),!e&&St(t)),!a.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),v=!0}function C(){$=_(L),Q=_(L,a.draggable),H({sortable:m,name:"change",toEl:l,newIndex:$,newDraggableIndex:Q,originalEvent:t})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){d(document,"mousemove",this._onTouchMove),d(document,"touchmove",this._onTouchMove),d(document,"pointermove",this._onTouchMove),d(document,"dragover",St),d(document,"mousemove",St),d(document,"touchmove",St)},_offUpEvents:function(){let t=this.el.ownerDocument;d(t,"mouseup",this._onDrop),d(t,"touchend",this._onDrop),d(t,"pointerup",this._onDrop),d(t,"touchcancel",this._onDrop),d(document,"selectstart",this)},_onDrop:function(t){let e=this.el,n=this.options;$=_(L),Q=_(L,n.draggable),F("drop",this,{evt:t}),$=_(L),Q=_(L,n.draggable),Tt.eventCanceled?this._nulling():(st=!1,ht=!1,ut=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Ot(this.cloneId),Ot(this._dragStartId),this.nativeDraggable&&(d(document,"drop",this),d(e,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),l&&g(document.body,"user-select",""),t&&(ot&&(t.cancelable&&t.preventDefault(),!n.dropBubble&&t.stopPropagation()),W&&W.parentNode&&W.parentNode.removeChild(W),(z===K||tt&&"clone"!==tt.lastPutMode)&&j&&j.parentNode&&j.parentNode.removeChild(j),L&&(this.nativeDraggable&&d(L,"dragend",this),Mt(L),L.style["will-change"]="",ot&&!st&&f(L,tt?tt.options.ghostClass:this.options.ghostClass,!1),f(L,this.options.chosenClass,!1),H({sortable:this,name:"unchoose",toEl:K,newIndex:null,newDraggableIndex:null,originalEvent:t}),z!==K?($>=0&&(H({rootEl:K,name:"add",toEl:K,fromEl:z,originalEvent:t}),H({sortable:this,name:"remove",toEl:K,originalEvent:t}),H({rootEl:K,name:"sort",toEl:K,fromEl:z,originalEvent:t}),H({sortable:this,name:"sort",toEl:K,originalEvent:t})),tt&&tt.save()):$!==V&&$>=0&&(H({sortable:this,name:"update",toEl:K,originalEvent:t}),H({sortable:this,name:"sort",toEl:K,originalEvent:t})),Tt.active&&(null!=$&&-1!==$||($=V,Q=Z),H({sortable:this,name:"end",toEl:K,originalEvent:t}),this.save()))),this._nulling())},_nulling:function(){F("nulling",this),z=L=K=W=G=j=U=q=et=nt=ot=$=Q=V=Z=it=lt=tt=J=Tt.dragged=Tt.ghost=Tt.clone=Tt.active=null,gt.forEach(function(t){t.checked=!0}),gt.length=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":L&&(this._onDragOver(t),function(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move");t.cancelable&&t.preventDefault()}(t));break;case"selectstart":t.preventDefault()}},toArray:function(){let t,e=[],n=this.el.children,o=0,i=n.length,l=this.options;for(;o<i;o++)h(t=n[o],l.draggable,this.el,!1)&&e.push(t.getAttribute(l.dataIdAttr)||At(t));return e},sort:function(t){let e={},n=this.el;this.toArray().forEach(function(t,o){let i=n.children[o];h(i,this.options.draggable,n,!1)&&(e[t]=i)},this),t.forEach(function(t){e[t]&&(n.removeChild(e[t]),n.appendChild(e[t]))})},save:function(){let t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,e){return h(t,e||this.options.draggable,this.el,!1)},option:function(t,e){let n=this.options;if(void 0===e)return n[t];{let o=Y.modifyOption(this,t,e);n[t]=void 0!==o?o:e,"group"===t&&yt(n)}},destroy:function(){F("destroy",this);let t=this.el;t[k]=null,d(t,"mousedown",this._onTapStart),d(t,"touchstart",this._onTapStart),d(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(d(t,"dragover",this),d(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),ct.splice(ct.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!q){if(F("hideClone",this),Tt.eventCanceled)return;g(j,"display","none"),this.options.removeCloneOnHide&&j.parentNode&&j.parentNode.removeChild(j),q=!0}},_showClone:function(t){if("clone"===t.lastPutMode){if(q){if(F("showClone",this),Tt.eventCanceled)return;z.contains(L)&&!this.options.group.revertClone?z.insertBefore(j,L):G?z.insertBefore(j,G):z.appendChild(j),this.options.group.revertClone&&this._animate(L,j),g(j,"display",""),q=!1}}else this._hideClone()}},s(document,"touchmove",function(t){(Tt.active||st)&&t.cancelable&&t.preventDefault()}),Tt.utils={on:s,off:d,css:g,find:v,is:function(t,e){return!!h(t,e,t,!1)},extend:function(t,e){if(t&&e)for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},throttle:M,closest:h,toggleClass:f,clone:A,index:_,nextTick:It,cancelNextTick:Ot,detectDirection:Dt,getChild:y},Tt.mount=function(...t){t[0].constructor===Array&&(t=t[0]);for(let e in t){let n=t[e];if(!n.prototype||!n.prototype.constructor)throw`Sortable: Mounted plugin must be a constructor function, not ${{}.toString.call(el)}`;n.utils&&(Tt.utils={...Tt.utils,...n.utils}),Y.mount(n)}},Tt.create=function(t,e){return new Tt(t,e)},Tt.version="1.9.0";let kt,Pt,Rt,Xt,Yt,Bt,Ft=[],Ht=!1;function Lt(){Ft.forEach(function(t){clearInterval(t.pid)}),Ft=[]}function Kt(){clearInterval(Bt)}const Wt=M(function(t,e,n,o){if(!e.scroll)return;const i=e.scrollSensitivity,l=e.scrollSpeed,r=b();let a,s=!1;Pt!==n&&(Pt=n,Lt(),kt=e.scroll,a=e.scrollFn,!0===kt&&(kt=C(n,!0)));let d=0,c=kt;do{let e,n,u=c,h=w(u),p=h.top,f=h.bottom,m=h.left,v=h.right,b=h.width,D=h.height,y=u.scrollWidth,E=u.scrollHeight,_=g(u),S=u.scrollLeft,C=u.scrollTop;u===r?(e=b<y&&("auto"===_.overflowX||"scroll"===_.overflowX||"visible"===_.overflowX),n=D<E&&("auto"===_.overflowY||"scroll"===_.overflowY||"visible"===_.overflowY)):(e=b<y&&("auto"===_.overflowX||"scroll"===_.overflowX),n=D<E&&("auto"===_.overflowY||"scroll"===_.overflowY));let T=e&&(Math.abs(v-t.clientX)<=i&&S+b<y)-(Math.abs(m-t.clientX)<=i&&!!S),x=n&&(Math.abs(f-t.clientY)<=i&&C+D<E)-(Math.abs(p-t.clientY)<=i&&!!C);if(!Ft[d])for(let t=0;t<=d;t++)Ft[t]||(Ft[t]={});Ft[d].vx==T&&Ft[d].vy==x&&Ft[d].el===u||(Ft[d].el=u,Ft[d].vx=T,Ft[d].vy=x,clearInterval(Ft[d].pid),0==T&&0==x||(s=!0,Ft[d].pid=setInterval(function(){o&&0===this.layer&&Sortable.active._onTouchMove(Yt);let e=Ft[this.layer].vy?Ft[this.layer].vy*l:0,n=Ft[this.layer].vx?Ft[this.layer].vx*l:0;"function"==typeof a&&"continue"!==a.call(Sortable.dragged.parentNode[k],n,e,t,Yt,Ft[this.layer].el)||N(Ft[this.layer].el,n,e)}.bind({layer:d}),24))),d++}while(e.bubbleScroll&&c!==r&&(c=C(c,!1)));Ht=s},30),zt=function({originalEvent:t,putSortable:e,dragEl:n,activeSortable:o,dispatchSortableEvent:i,hideGhostForTarget:l,unhideGhostForTarget:r}){let a=e||o;l();let s=document.elementFromPoint(t.clientX,t.clientY);r(),a&&!a.el.contains(s)&&(i("spill"),this.onSpill(n))};function Gt(){}function Ut(){}let jt;Gt.prototype={startIndex:null,dragStart({oldDraggableIndex:t}){this.startIndex=t},onSpill(t){this.sortable.captureAnimationState();let e=y(this.sortable.el,this.startIndex,this.sortable.options);e?this.sortable.el.insertBefore(t,e):this.sortable.el.appendChild(t),this.sortable.animateAll()},drop:zt},t(Gt,{pluginName:"revertOnSpill"}),Ut.prototype={onSpill(t){this.sortable.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),this.sortable.animateAll()},drop:zt},t(Ut,{pluginName:"removeOnSpill"});let qt,Vt,$t,Zt,Qt,Jt=[],te=[],ee=!1,ne=!1,oe=!1;function ie(t,e){for(let n in te){let o=e.children[te[n].sortableIndex+(t?Number(n):0)];o?e.insertBefore(te[n],o):e.appendChild(te[n])}}function le(){for(let t in Jt)Jt[t]!==$t&&Jt[t].parentNode&&Jt[t].parentNode.removeChild(Jt[t])}return Tt.mount(new function(){function e(){this.options={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(let t in this)"_"===t.charAt(0)&&"function"==typeof this[t]&&(this[t]=this[t].bind(this))}return e.prototype={dragStarted({originalEvent:t}){this.sortable.nativeDraggable?s(document,"dragover",this._handleAutoScroll):this.sortable.options.supportPointer?s(document,"pointermove",this._handleFallbackAutoScroll):t.touches?s(document,"touchmove",this._handleFallbackAutoScroll):s(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted({originalEvent:t}){this.sortable.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop(){this.sortable.nativeDraggable?d(document,"dragover",this._handleAutoScroll):(d(document,"pointermove",this._handleFallbackAutoScroll),d(document,"touchmove",this._handleFallbackAutoScroll),d(document,"mousemove",this._handleFallbackAutoScroll)),Kt(),Lt(),clearTimeout(x),x=void 0},nulling(){Yt=Pt=kt=Ht=Bt=Rt=Xt=null,Ft.length=0},_handleFallbackAutoScroll(t){this._handleAutoScroll(t,!0)},_handleAutoScroll(t,e){const i=t.clientX,r=t.clientY,a=document.elementFromPoint(i,r);if(Yt=t,e||o||n||l){Wt(t,this.options,a,e);let n=C(a,!0);!Ht||Bt&&i===Rt&&r===Xt||(Bt&&Kt(),Bt=setInterval(()=>{let o=C(document.elementFromPoint(i,r),!0);o!==n&&(n=o,Lt()),Wt(t,this.options,o,e)},10),Rt=i,Xt=r)}else{if(!this.sortable.options.bubbleScroll||C(a,!0)===b())return void Lt();Wt(t,this.options,C(a,!1),!1)}}},t(e,{pluginName:"scroll",initializeByDefault:!0})}),Tt.mount(Ut,Gt),Tt.mount(new function(){function e(){this.options={swapClass:"sortable-swap-highlight"}}return e.prototype={dragStart({dragEl:t}){jt=t},dragOverValid({completed:t,target:e,onMove:n,activeSortable:o,changed:i}){if(!o.options.swap)return;let l=this.sortable.el,r=this.sortable.options;if(e&&e!==l){let t=jt;!1!==n(e)?(f(e,r.swapClass,!0),jt=e):jt=null,t&&t!==jt&&f(t,r.swapClass,!1)}return i(),t(!0)},drop({activeSortable:t,putSortable:e,dragEl:n}){let o=e||this.sortable,i=this.sortable.options;jt&&f(jt,i.swapClass,!1),jt&&(i.swap||e&&e.options.swap)&&n!==jt&&(o.captureAnimationState(),o!==t&&t.captureAnimationState(),function(t,e){let n,o,i=t.parentNode,l=e.parentNode;i&&l&&!i.isEqualNode(e)&&!l.isEqualNode(t)&&(n=_(t),o=_(e),i.isEqualNode(l)&&n<o&&o++,i.insertBefore(e,i.children[n]),l.insertBefore(t,l.children[o]))}(n,jt),o.animateAll(),o!==t&&t.animateAll())},nulling(){jt=null}},t(e,{pluginName:"swap",eventOptions:()=>({swapItem:jt})})}),Tt.mount(new function(){function e(t){for(let t in this)"_"===t.charAt(0)&&"function"==typeof this[t]&&(this[t]=this[t].bind(this));t.options.supportPointer?s(document,"pointerup",this._deselectMultiDrag):(s(document,"mouseup",this._deselectMultiDrag),s(document,"touchend",this._deselectMultiDrag)),s(document,"keydown",this._checkKeyDown),s(document,"keyup",this._checkKeyUp),this.options={selectedClass:"sortable-selected",multiDragKey:null,setData(e,n){let o="";if(Jt.length&&Vt===t)for(let t in Jt)o+=(t?", ":"")+Jt[t].textContent;else o=n.textContent;e.setData("Text",o)}}}return e.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal({dragEl:t}){$t=t},delayEnded(){this.isMultiDrag=~Jt.indexOf($t)},setupClone({sortable:t}){if(this.isMultiDrag){for(let e in Jt)te.push(A(Jt[e])),te[e].sortableIndex=Jt[e].sortableIndex,te[e].draggable=!1,te[e].style["will-change"]="",f(te[e],t.options.selectedClass,!1),Jt[e]===$t&&f(te[e],t.options.chosenClass,!1);return t._hideClone(),!0}},clone({sortable:t,rootEl:e,dispatchSortableEvent:n}){if(this.isMultiDrag)return!t.options.removeCloneOnHide&&Jt.length&&Vt===t?(ie(!0,e),n("clone"),!0):void 0},showClone({cloneNowShown:t,rootEl:e}){if(this.isMultiDrag){ie(!1,e);for(let t in te)g(te[t],"display","");return t(),Qt=!1,!0}},hideClone({sortable:t,cloneNowHidden:e}){if(this.isMultiDrag){for(let e in te)g(te[e],"display","none"),t.options.removeCloneOnHide&&te[e].parentNode&&te[e].parentNode.removeChild(te[e]);return e(),Qt=!0,!0}},dragStartGlobal({sortable:t}){!this.isMultiDrag&&Vt&&Vt.multiDrag._deselectMultiDrag();for(let t in Jt)Jt[t].sortableIndex=_(Jt[t]);Jt=Jt.sort(function(t,e){return t.sortableIndex-e.sortableIndex}),oe=!0},dragStarted({sortable:t}){if(this.isMultiDrag){if(t.options.sort&&(t.captureAnimationState(),t.options.animation)){for(let t in Jt)Jt[t]!==$t&&g(Jt[t],"position","absolute");let t=w($t,!1,!0,!0);for(let e in Jt)Jt[e]!==$t&&I(Jt[e],t);ne=!0,ee=!0}t.animateAll(function(){if(ne=!1,ee=!1,t.options.animation)for(let t in Jt)O(Jt[t]);t.options.sort&&le()})}},dragOver({target:t,completed:e}){if(ne&&~Jt.indexOf(t))return e(!1)},revert({fromSortable:t,rootEl:e,sortable:n,dragRect:o}){if(Jt.length>1){for(let e in Jt)n.addAnimationState({target:Jt[e],rect:ne?w(Jt[e]):o}),O(Jt[e]),Jt[e].fromRect=o,t.removeAnimationState(Jt[e]);ne=!1,function(t,e){for(let n in Jt){let o=e.children[Jt[n].sortableIndex+(t?Number(n):0)];o?e.insertBefore(Jt[n],o):e.appendChild(Jt[n])}}(!n.options.removeCloneOnHide,e)}},dragOverCompleted({sortable:t,isOwner:e,insertion:n,activeSortable:o,parentEl:i,putSortable:l}){let r=t.options;if(n){if(e&&o._hideClone(),ee=!1,r.animation&&Jt.length>1&&(ne||!e&&!o.options.sort&&!l)){let t=w($t,!1,!0,!0);for(let e in Jt)Jt[e]!==$t&&(I(Jt[e],t),i.appendChild(Jt[e]));ne=!0}if(!e)if(ne||le(),Jt.length>1){let e=Qt;if(o._showClone(t),o.options.animation&&!Qt&&e)for(let t in te)o.addAnimationState({target:te[t],rect:Zt}),te[t].fromRect=Zt,te[t].thisAnimationDuration=null}else o._showClone(t)}},dragOverAnimationCapture({dragRect:e,isOwner:n,activeSortable:o}){for(let t in Jt)Jt[t].thisAnimationDuration=null;if(o.options.animation&&!n&&o.multiDrag.isMultiDrag){Zt=t({},e);let n=m($t,!0);Zt.top-=n.f,Zt.left-=n.e}},dragOverAnimationComplete(){ne&&(ne=!1,le())},drop({originalEvent:t,rootEl:e,parentEl:n,sortable:o,dispatchSortableEvent:i,oldIndex:l,putSortable:r}){let a=r||this.sortable;if(!t)return;let s=o.options,d=n.children;if(!oe)if(s.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),f($t,s.selectedClass,!~Jt.indexOf($t)),~Jt.indexOf($t))Jt.splice(Jt.indexOf($t),1),qt=null,B({sortable:o,rootEl:e,name:"deselect",targetEl:$t,originalEvt:t});else{if(Jt.push($t),B({sortable:o,rootEl:e,name:"select",targetEl:$t,originalEvt:t}),(!s.multiDragKey||this.multiDragKeyDown)&&t.shiftKey&&qt&&o.el.contains(qt)){let n=_(qt),i=_($t);if(~n&&~i&&n!==i){let l,r;for(i>n?(r=n,l=i):(r=i,l=n+1);r<l;r++)~Jt.indexOf(d[r])||(f(d[r],s.selectedClass,!0),Jt.push(d[r]),B({sortable:o,rootEl:e,name:"select",targetEl:d[r],originalEvt:t}))}}else qt=$t;Vt=a}if(oe&&this.isMultiDrag){if((n[k].options.sort||n!==e)&&Jt.length>1){let t=w($t),e=_($t,":not(."+Sortable.active.options.selectedClass+")");if(!ee&&s.animation&&($t.thisAnimationDuration=null),a.captureAnimationState(),!ee){if(s.animation){$t.fromRect=t;for(let e in Jt)if(Jt[e].thisAnimationDuration=null,Jt[e]!==$t){let n=ne?w(Jt[e]):t;Jt[e].fromRect=n,a.addAnimationState({target:Jt[e],rect:n})}}le();for(let t in Jt)d[e]?n.insertBefore(Jt[t],d[e]):n.appendChild(Jt[t]),e++;if(l===_($t)){let t=!1;for(let e in Jt)if(Jt[e].sortableIndex!==_(Jt[e])){t=!0;break}t&&i("update")}}for(let t in Jt)O(Jt[t]);a.animateAll()}Vt=a}if(e===n||r&&"clone"!==r.lastPutMode)for(let t in te)te[t].parentNode&&te[t].parentNode.removeChild(te[t])},nullingGlobal(){this.isMultiDrag=oe=!1,te.length=0},destroy(){this._deselectMultiDrag(),d(document,"pointerup",this._deselectMultiDrag),d(document,"mouseup",this._deselectMultiDrag),d(document,"touchend",this._deselectMultiDrag),d(document,"keydown",this._checkKeyDown),d(document,"keyup",this._checkKeyUp)},_deselectMultiDrag(t){if(!oe&&Vt===this.sortable&&!(t&&h(t.target,this.sortable.options.draggable,this.sortable.el,!1)||t&&0!==t.button))for(;Jt.length;){let e=Jt[0];f(e,this.sortable.options.selectedClass,!1),Jt.shift(),B({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:e,originalEvt:t})}},_checkKeyDown(t){t.key===this.sortable.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp(t){t.key===this.sortable.options.multiDragKey&&(this.multiDragKeyDown=!1)}},t(e,{pluginName:"multiDrag",utils:{select(t){let e=t.parentNode[k];e&&e.options.multiDrag&&!~Jt.indexOf(t)&&(Vt&&Vt!==e&&(Vt.multiDrag._deselectMultiDrag(),Vt=e),f(t,e.options.selectedClass,!0),Jt.push(t))},deselect(t){let e=t.parentNode[k],n=Jt.indexOf(t);e&&e.options.multiDrag&&~n&&(f(t,e.options.selectedClass,!1),Jt.splice(n,1))}},eventOptions(){const t=[],e=[];return Jt.forEach(n=>{let o;t.push({element:n,index:n.sortableIndex}),o=ne&&n!==$t?-1:ne?_(n,":not(."+this.options.selectedClass+")"):_(n),e.push({element:n,index:o})}),{items:[...Jt],clones:[...te],oldIndicies:t,newIndicies:e}},optionListeners:{multiDragKey:t=>("ctrl"===(t=t.toLowerCase())?t="Control":t.length>1&&(t=t.charAt(0).toUpperCase()+t.substr(1)),t)}})}),Tt});